<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Профиль</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/>
    <link rel="stylesheet" th:href="@{/styles/styles.css}"/>
</head>
<body>
    <div class="wrapper">
      <div th:insert="blocks/header :: header"></div>
      <div class="main">
        <div class="container">
            <div class="profile-header">
                <h2 th:if="${user.authorities[0].getAuthority().equals('ROLE_WORKER')}" th:text="'Работник'"/>
                <h2 th:if="${user.authorities[0].getAuthority().equals('ROLE_ADMIN')}" th:text="'Администратор'"/>
                <h3>Личные данные</h3>
            </div>
            <div class="profile-content">
                <div class="sidenav">
                    <a href="/profile/edit">Редактирование данных</a>
                    <a href="/profile/change-password">Сменить пароль</a>
                    <a href="/profile/delete-account">Удалить аккаунт</a>
                    <a th:if="${user.authorities[0].getAuthority().equals('ROLE_ADMIN')}" href="/add-admin">Добавить администратора</a>
                    <a th:if="${user.authorities[0].getAuthority().equals('ROLE_ADMIN')}" href="/users">Информация о пользователях</a>
                </div>
                <div class="info">
                    <div class="user-info">
                        <div class="user-info-row">
                            <h6 class="icon"><i class='bx bx-user'></i>Логин: </h6>
                            <p th:text="${user.getUsername()}"/>
                        </div>
                        <div class="user-info-row">
                            <h6 class="icon"><i class='bx bx-user-circle'></i>Имя: </h6>
                            <p th:text="${user.getName()}"/>
                        </div>
                        <div class="user-info-row">
                            <h6 class="icon"><i class='bx bx-user-circle'></i>Фамилия: </h6>
                            <p th:text="${user.getSurname()}"/>
                        </div>
                        <div class="user-info-row">
                            <h6 class="icon"><i class='bx bx-envelope'></i>Email: </h6>
                            <p th:text="${user.getEmail()}"/>
                        </div>
                        <div class="user-info-row">
                            <h6 class="icon"><i class='bx bxs-phone-call'></i>Номер телефона: </h6>
                            <p th:text="${user.getTelNum()}"/>
                        </div>
                    </div>
                </div>
                <p class="text-success my-5" th:if="${success}" th:text="${success}"/>
            </div>
        </div>
      </div>
      <div th:insert="blocks/footer :: footer"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>